---
title: "Bitrix24"
description: "Подключите бота к Открытой линии Битрикс24"
---

<Warning>
  Данная интеграция возможна только при наличии платной версии Bitrix24.
</Warning>

Подключение бота происходит в два этапа:

1. Создание и настройка бота;
2. Подключение созданного бота к Открытой Линии.

## Создание и настройка бота

<Steps>
    <Step title="Получение Webhook Url">
      На [портале](https://app.wikibot.pro) перейдите в раздел **Подключения** своего бота и включите интеграцию Битрикс24. Скопируйте **Webhook Url**.
    </Step>
    <Step title="Добавьте чат-бота">
        Перейдите по меню **Приложения** --> **Разработчикам** --> **Добавить чат-бот** и выберите пункт **Передавать боту сообщения из чата**.

        Далее необходимо настроить бота.
    </Step>    
    <Step title="Сконфигурируйте бота">
        Задайте следующие параметры:
        - Имя бота, например _Мой бот_.
        - URL обработчика бота - вставьте полученный на портале Wikibot **Webhook Url**.
        - Тип бота **Чат-бот для Открытых линий**.
    </Step>
    <Step title="Включите исходящий вебхук">
        Пролистайте ниже, включите исходящий вебхук и настройте его:
        - Добавьте URL обработчика - вставьте полученный на портале Wikibot **Webhook Url**.
        - Добавьте События:
            - Новое сообщение из ОЛ.
            - Новое сообщение боту.
    </Step>
    <Step title="Сохраните настройки">
        Нажмите кнопку сохранить, чтобы применить изменения и получить необходимые параметры.
    </Step>
    <Step title="Получите REST API URL">
        Пролистайте наверх, скопируйте текст из поля **Вебхук для вызова REST API** и вставьте в настройках Wikibot в поле **REST API URL**.
    </Step>
    <Step title="Получите CLIENT_ID">
        Cкопируйте текст из поля **CLIENT_ID бота** и вставьте в настройках Wikibot в поле **CLIENT_ID бота**.
    </Step>
    <Step title="Сохраните изменения на портале Wikibot">
      Сохраните все изменения и перейдите к подключению бота к Открытой Линии
    </Step>
</Steps>

## Подключение к Открытой Линии

<Steps>
  <Step title="Создайте Открытую линию">
    Перейдите в меню **CRM** --> **Интеграции** --> **Мессенджеры**. Выберите
    **Онлайн чат** --> **Создать открытую линию**, если она не была создана
    ранее.
  </Step>
  <Step title="Настройте Открытую линию">
    Перейдите в настройки **Открытой Линии**. На вкладке **Чат-боты** поставьте
    галочку **При обращении клиента назначить ответственным чат-бота** и
    выберите созданного бота из списка.
  </Step>
  <Step title="Настройте чат-бота">
    Настройте параметры бота исходя из ваших требований. Для настройки **Когда
    отключать чат-бота** выберите значение **После перевода на оператора**.
  </Step>
  <Step title="Добавьте виджет на сайт">
    Добавьте виджет на сайт или интеграцию через телеграм в меню **CRM** -->
    **Интеграции** --> **Мессенджеры**.
  </Step>
  <Step title="Проверьте работу бота">
    Ваш чат-бот готов! Проверьте работу бота, написав сообщение в виджет или
    телеграм.
  </Step>
</Steps>
